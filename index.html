<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Angular Multimocks Demo</title>

    <!-- Bootstrap -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/lodash/dist/lodash.min.js"></script>
    <script src="bower_components/angular-mocks/angular-mocks.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="bower_components/angular-multimocks/app/package/js/angular-multimocks.js"></script>
    <script src="mockOutput.js"></script>

    <style>
      .scenarios li a:link {
        text-decoration: none;
      }
      .scenarios li a {
        color: white;
      }
      .scenarios li a i {
        margin-right: 2px;
      }

      .ng-cloak {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="page-header">
        <div class="media">
          <a class="pull-left" href="#">
            <img src="logo.png" width="100">
          </a>

          <div class="media-body">
            <h1 class="text-muted">Angular Multimocks</h1>
          </div>
        </div>
      </div>

      <div class="">
        <p class="lead">
          Angular Multimocks lets you test how your app behaves with different
          responses from an API.
        </p>

        <p class="text-center">
          <iframe src="http://ghbtns.com/github-btn.html?user=wongatech&repo=angular-multimocks&type=watch&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0"
                  width="110" height="20"></iframe>
          <iframe src="http://ghbtns.com/github-btn.html?user=wongatech&repo=angular-multimocks&type=fork&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0"
                  width="110" height="20"></iframe>
          <iframe src="http://ghbtns.com/github-btn.html?user=wongatech&repo=angular-multimocks&type=follow&count=true"
                  allowtransparency="true" frameborder="0" scrolling="0"
                  width="200" height="20"></iframe>
          <a class="twitter-share-button"
            href="https://twitter.com/intent/tweet" data-count="none">
            Tweet</a>
          <a href="https://twitter.com/wongatech"
             class="twitter-follow-button">Follow
            @wongatech</a>
          <script>
            window.twttr = (function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0],
                t = window.twttr || {};
              if (d.getElementById(id)) return t;
              js = d.createElement(s);
              js.id = id;
              js.src = "https://platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js, fjs);

              t._e = [];
              t.ready = function(f) {
                t._e.push(f);
              };

              return t;
            }(document, "script", "twitter-wjs"));
          </script>
        </p>
      </div>

      <div class="row marketing">
        <div ng-app="demo" ng-controller="demoCtrl" class="ng-cloak">
          <h2>Scenarios</h2>

          <ul class="list-inline scenarios">
            <li class="btn btn-success">
              <a href="?">
                <i class="glyphicon glyphicon-refresh"></i>
                <span>Empty cart</span>
              </a>
            </li>
            <li class="btn btn-success">
              <a href="?scenario=someGames">
                <i class="glyphicon glyphicon-refresh"></i>
                <span>Some Items</span>
              </a>
            </li>
            <li class="btn btn-success">
              <a href="?scenario=slowResponse">
                <i class="glyphicon glyphicon-refresh"></i>
                <span>Response with a delay</span>
              </a>
            </li>
          </ul>
          <div class="container">
            <h1>Great Games</h1>
          </div>
          <div class="container">
            <div ng-show="loading"  class="loader">Loading...</div>
            <table ng-hide="loading" class="table table-striped">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Videogame</th>
                  <th>Release Year</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="game in games | orderBy:'position'">
                  <th>{{$index + 1}}</th>
                  <th>{{ game.name }}</th>
                  <th>{{ game.year }}</th>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="footer text-center small" style="margin:20px;">
        <p>Â© Wonga 2015 -
          <a href="http://tech.wonga.com" role="button">
            Wonga tech website
          </a>
        </p>
      </div>
    </div>

    <script>
      angular
        .module('demo', ['scenario', 'ngMockE2E'])
        .controller('demoCtrl', ['$scope', '$http', function ($scope, $http) {
          $scope.games = [];
          $scope.loading = true;
          $http.get('/games').then(function (response) {
            $scope.loading = false;
            $scope.games = response.data.games;
          });
        }]);
    </script>
  </body>
</html>
